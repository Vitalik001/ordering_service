# Ordering service

### Description
This is a simple ordering service. It allows you to create, update, delete orders and items. Also, you can get statistics about orders and items.
Here is a list of technologies that were used in the project:  
**FastAPI, PostgreSQL, Docker, Docker-compose**

### How to run the project

1. Clone the repository
```shell
git clone https://github.com/Vitalik001/ordering_service
```

2. Go into the project directory
```shell
cd ordering_service
```

3. Run a command in the root directory
```shell
docker-compose up
```

4. Open the browser and go to the address
```shell
http://0.0.0.0/ or http://localhost/docs#
```


### API description
```shell
GET /orders - list all orders
GET /orders/<id> - get a single order
POST /orders - create a new order
PUT /orders/<id> - update existing order
DELETE /orders/<id> - delete existing order
GET /stats - return general stats
GET /orders/<id>/items - list items of a single order
GET /orders/<id>/items/<id> - get a single order item
POST /orders/<id>/items - add an item to an order
PUT /orders/<id>/items/<id> - update existing order item
DELETE /orders/<id>/items/<id> - delete existing order item

```

#### Order fields:
```
{
“id”: <integer>, //unique id, generated by the server
“created_date”: “<date>”, // Can’t be changed via API
“updated_date”: “<date>”, // Can’t be changed via API
“title”: “<string>”,
“total”: <decimal>,//Sum of all items (calculated)
}
```
#### Item fields
```
{
“id”: <integer>, //unique id, generated by the server
"order_id": <integer>, //id of the order this item belongs to
“name”: “Apples”,
“price”: 5,
“number”: 2
}
```

#### Stats fields
```
{
“total_orders”: <integer>, // total number of orders
“total_order_price”: <decimal>,//total price of all orders
“avg_order_price”: <float>,//average price of an order
“total_items”: <integer>, //total number of ordered items
“avg_items”: <float>, //average number of items per order
“most_ordered_item”: <string>,// the item that was ordered the most (considering “number” in a single order)
}
```
